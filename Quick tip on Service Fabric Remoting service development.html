<html><head>
<meta charset='UTF-8'>
<link href='resource/bootstrap.min.css' rel='Stylesheet' type='text/css' />
<link href='resource/style.css' rel='Stylesheet' type='text/css' />
</head>
<body>
<div id='page'>
<h1 class='entry-title'>Quick tip on Service Fabric Remoting service development</h1>
 <a class='url fn n profile-usercard-hover' href='https://social.msdn.microsoft.com/profile/Maheshk [MSFT]' target='_blank'>Maheshk [MSFT]</a>
<time>    11/13/2016 1:49:00 AM</time>
<hr>
<div id='content'><p><strong><a title="https://azure.microsoft.com/en-us/documentation/services/service-fabric/" href="https://azure.microsoft.com/en-us/documentation/services/service-fabric/" target="_blank">Azure Service Fabric</a></strong><strong> </strong>needs no introduction. It is our next gen <a title="https://azure.microsoft.com/en-us/documentation/learning-paths/service-fabric/" href="https://azure.microsoft.com/en-us/documentation/learning-paths/service-fabric/" target="_blank">PaaS offering</a> or also called PaaS v2. It’s been used internally for many years, tested and released as SDK for consumption. Some of the well known offerings like Az Sql, Az DocDB, Skype etc runs on Service Fabric. We already see developer community consuming for their production and hearing lot of goodness. </p> <p>It is free, any one can <a title="http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&amp;appid=MicrosoftAzure-ServiceFabric-VS2015" href="http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&amp;appid=MicrosoftAzure-ServiceFabric-VS2015" target="_blank">download the SDK</a>, develop and run from their laptop or own data center or publish to Azure. It works on windows and Linux as well. It has lot of rich features over the previous PaaS offerings (cloud services) so seeing lot of traction from big companies considering for critical application. </p> <p>This sample is based on this example:-<a title="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/" href="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/">https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/</a>&nbsp;</p> <p><strong><strong><font style="background-color: #ffffff">Service side proj settings</font>: </strong></strong>Set the platform target as x64 If you want to use reliable collections, reliable actors APIs, failing to have this set throws as binding exception as below. </p><font face="Courier New"><font color="#ff0000">System.BadImageFormatException was unhandled<br>&nbsp; FileName=Microsoft.ServiceFabric.Services, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35<br>&nbsp; FusionLog=Assembly manager loaded from:&nbsp; C:\Windows\Microsoft.NET\Framework\v4.0.30319\clr.dll<br>Running under executable&nbsp; D:\Cases\_Code\remotingclienttest\bin\Debug\remotingclienttest.vshost.exe<br>--- A detailed error log follows.</font> </font> <p>&nbsp;</p> <p><a href="media/2016/11/platform.png"><img title="platform" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;padding-right: 0px" border="0" alt="platform" src="media/2016/11/platform_thumb.png" width="731" height="489"></a></p> <p><font color="#ff0000"></font>&nbsp;</p> <p><a href="media/2016/11/service.png"><img title="service" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;padding-right: 0px" border="0" alt="service" src="media/2016/11/service_thumb.png" width="798" height="521"></a></p> <p>&nbsp;</p> <p>For client side/calling method, I do not see set up related information in detailed here <a title="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/" href="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/">https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-services-communication-remoting/</a>. I found, these 3 dll’ s has to be referred at client side project for consuming service. I simply copied from service side sample packages folder to calling side proj folder. </p> <p><a href="media/2016/11/image303.png"><img title="image" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;padding-right: 0px" border="0" alt="image" src="media/2016/11/image_thumb250.png" width="636" height="118"></a></p> <p><a href="media/2016/11/image304.png"><img title="image" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;padding-right: 0px" border="0" alt="image" src="media/2016/11/image_thumb251.png" width="638" height="142"></a></p> <p><a href="media/2016/11/image305.png"><img title="image" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;margin: 0px;padding-right: 0px" border="0" alt="image" src="media/2016/11/image_thumb252.png" width="638" height="114"></a></p> <p><a href="media/2016/11/client.png"><img title="client" style="border-top: 0px;border-right: 0px;border-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: 0px;padding-right: 0px" border="0" alt="client" src="media/2016/11/client_thumb.png" width="817" height="596"></a></p>      <p>sample code available - <a title="https://1drv.ms/u/s!ApBwDDnGdg5BhNd-KQHtWtaH-sbRcA" href="https://1drv.ms/u/s!ApBwDDnGdg5BhNd-KQHtWtaH-sbRcA">https://1drv.ms/u/s!ApBwDDnGdg5BhNd-KQHtWtaH-sbRcA</a></p></div>
</div></body>
<script type='text/javascript' src='resource/jquery-1.12.1.min.js'></script>
<script type='text/javascript' src='resource/replace.js'></script>
</html>
